(this["webpackJsonpreact-mentoring"]=this["webpackJsonpreact-mentoring"]||[]).push([[0],{40:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(31),i=n.n(s),o=(n(40),n(9)),l=n.n(o),u=n(15),h=n(10),j=n(11),m=n(13),d=n(12),b=n(14),p=n.n(b),v=(n(60),n.p+"static/media/logo.720eeeb0.svg"),f=n.p+"static/media/settings.f3f15426.svg",O=n(8);var g=function(e){var t=e.isLoggedIn;return Object(a.jsx)("header",{className:"header",children:Object(a.jsxs)("div",{className:"header__wrapper",children:[Object(a.jsx)(O.b,{className:"header__logo",to:"/",children:Object(a.jsx)("img",{className:"header__logo-img",src:v,alt:"netflix"})}),Object(a.jsxs)("nav",{className:"header__nav",children:[Object(a.jsx)(O.b,{className:"header__link",to:"/settings",children:Object(a.jsx)("img",{className:"header__settings-img",src:f,alt:"settings"})}),"undefined"!==t&&Object(a.jsx)(O.b,{className:"header__link",to:t?"/logout":"/login",children:t?"Log out":"Log In"})]})]})})},x=(n(66),n(67),n(2)),y=n(34);function _(e){var t=e.width,n=e.height,c=e.source;return Object(a.jsx)("iframe",{title:"top-film-title",width:t,height:n,src:"https://www.youtube.com/embed/".concat(c,"?autoplay=1&mute=1")})}n(68);var w=function(e){var t=e.film,n=t.id,c=t.name,r=t.description,s=t.source;return Object(a.jsxs)("section",{className:"main-film-section",children:[Object(a.jsxs)("div",{className:"main-film-section__video-info",children:[Object(a.jsx)("h3",{children:c}),Object(a.jsx)("h5",{children:r}),Object(a.jsx)(O.b,{to:"/view-mode/".concat(n),children:Object(a.jsx)("button",{children:"Watch"})})]}),Object(a.jsx)("div",{className:"main-film-section__video",children:Object(a.jsx)(_,{width:"500px",height:"250px",source:s})})]})};n(69);function N(e){var t=e.picture;return Object(a.jsxs)(O.b,{to:"/view-mode/".concat(t.id),className:"picture-card",style:{backgroundImage:'url("'.concat(t.photoSource,'")')},children:[Object(a.jsx)("h3",{className:"picture-card__name",children:t.name}),Object(a.jsx)("h6",{className:"picture-card__description",children:t.description})]})}n(70);function k(e){var t=e.categories;return Object(a.jsx)("section",{className:"categories-section",children:t.map((function(e){return Object(a.jsxs)("div",{className:"categories-section_section",children:[Object(a.jsx)("h3",{children:e.name}),Object(a.jsx)("div",{className:"categories-section__cards",children:e.items.map((function(e){return Object(a.jsx)(N,{picture:e},e.name)}))})]},e.name)}))})}n(71);var C="https://my-json-server.typicode.com/Chizhevsky/my-fake-server-for-films",S={primary:{color:"black"},secondary:{color:"grey"}},I="primary",P=r.a.createContext({them:I,themes:S,changeTheme:function(){}}),L=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={topFilm:null,categories:null},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.a.get("".concat(C,"/top-film")),n=p.a.get("".concat(C,"/categories")),e.next=4,p.a.all([t,n]);case 4:a=e.sent,c=Object(y.a)(a,2),r=c[0].data,s=c[1].data,this.setState({topFilm:r,categories:s});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsx)(P.Consumer,{children:function(t){var n,c=t.theme,r=t.themes[c].color;return Object(a.jsxs)("main",{className:"home-page-main",style:{color:r},children:[e.state.topFilm&&Object(a.jsx)(w,{film:e.state.topFilm}),(null===(n=e.state.categories)||void 0===n?void 0:n.length)>0&&Object(a.jsx)(k,{categories:e.state.categories})]})}})}}]),n}(r.a.Component),T=n(33),A=(n(72),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.handleInputChange=function(t){var n=t.target,a=n.name,c=n.value;e.setState(Object(T.a)({},a,c))},e.handleSubmit=function(e){e.preventDefault()},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("main",{className:"login",children:[Object(a.jsx)("h3",{children:"Login"}),Object(a.jsxs)("form",{className:"login__form",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("h4",{children:"Email:"}),Object(a.jsx)("input",{name:"text",type:"email",value:this.state.email,onChange:this.handleInputChange})]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("h4",{children:"Password"}),Object(a.jsx)("input",{name:"password",type:"password",value:this.state.password,onChange:this.handleInputChange})]}),Object(a.jsx)("input",{className:"login__submit",type:"submit",value:"LogIn"})]})]})}}]),n}(r.a.Component)),D=(n(73),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={theme:e.props.theme},e.handleSubmit=function(t){t.preventDefault(),e.props.changeTheme(e.state.theme)},e.handleChange=function(t){e.setState({theme:t.target.value})},e}return Object(j.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("main",{className:"settings",children:[Object(a.jsx)("h3",{children:"Settings"}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{className:"settings__form-label",children:[Object(a.jsx)("h4",{children:"Choose theme:"}),Object(a.jsxs)("select",{className:"settings__input",name:"theme",value:this.state.theme,onChange:this.handleChange,children:[Object(a.jsx)("option",{value:"primary",children:"primary"}),Object(a.jsx)("option",{value:"secondary",children:"secondary"})]})]}),Object(a.jsx)("input",{type:"submit",value:"Save"})]})]})}}]),n}(r.a.Component)),F=(n(74),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={currentPicture:null},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,c,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null===(t=this.props.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.id)){e.next=8;break}return e.next=4,p.a.get("".concat(C,"/allPictures"));case 4:c=e.sent,r=c.data,(s=r.find((function(e){return e.id===a})))&&this.setState({currentPicture:s});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.currentPicture&&Object(a.jsxs)("main",{className:"view-mode",children:[Object(a.jsx)("button",{className:"view-mode__back-button",onClick:function(){return e.props.history.goBack()},children:"< Back"}),Object(a.jsx)("div",{className:"view-mode__video-player",children:Object(a.jsx)(_,{width:"1000px",height:"500px",source:this.state.currentPicture.source})}),Object(a.jsx)("h1",{children:this.state.currentPicture.name}),Object(a.jsx)("p",{children:this.state.currentPicture.description})]})}}]),n}(c.Component));var B=function(){return Object(a.jsxs)(x.c,{children:[Object(a.jsx)(x.a,{path:"/settings",render:function(){return Object(a.jsx)(P.Consumer,{children:function(e){var t=e.theme,n=(e.themes,e.changeTheme);return Object(a.jsx)(D,{theme:t,changeTheme:n})}})}}),Object(a.jsx)(x.a,{path:"/login",component:A}),Object(a.jsx)(x.a,{path:"/view-mode/:id",component:F}),Object(a.jsx)(x.a,{path:"/",component:L})]})},M=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(h.a)(this,n),(a=t.call(this,e)).changeTheme=function(e){localStorage.setItem("theme",e),a.setState({theme:e})};var c=localStorage.getItem("theme")||I;return a.state={auth:{isLoggedIn:!1,user:null},theme:c},a}return Object(j.a)(n,[{key:"handleAutorization",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.email,t.password;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),e.next=3,p.a.get("".concat(C,"/auth"));case 3:t=e.sent,n=t.data,this.setState({auth:n});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return Object(a.jsx)(P.Provider,{value:{theme:this.state.theme,changeTheme:this.changeTheme,themes:S},children:Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(g,{isLoggedIn:null===(e=this.state.auth)||void 0===e?void 0:e.isLoggedIn}),Object(a.jsx)(B,{})]})})}}]),n}(r.a.Component);i.a.render(Object(a.jsx)(O.a,{basename:"/react-mentoring",children:Object(a.jsx)(M,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.49bf8178.chunk.js.map