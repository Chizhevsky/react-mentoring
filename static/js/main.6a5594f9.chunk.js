(this["webpackJsonpreact-mentoring"]=this["webpackJsonpreact-mentoring"]||[]).push([[0],{39:function(e,t,n){},59:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),i=n(31),s=n.n(i),o=(n(39),n(9)),u=n.n(o),l=n(12),h=n(13),j=n(14),d=n(16),m=n(15),p=n(10),b=n.n(p),v=(n(59),n.p+"static/media/logo.720eeeb0.svg"),f=n.p+"static/media/settings.f3f15426.svg",O=n(8);var g=function(e){var t=e.isLoggedIn;return Object(c.jsx)("header",{className:"header",children:Object(c.jsxs)("div",{className:"header__wrapper",children:[Object(c.jsx)(O.b,{className:"header__logo",to:"/",children:Object(c.jsx)("img",{className:"header__logo-img",src:v,alt:"netflix"})}),Object(c.jsxs)("nav",{className:"header__nav",children:[Object(c.jsx)(O.b,{className:"header__link",to:"/settings",children:Object(c.jsx)("img",{className:"header__settings-img",src:f,alt:"settings"})}),"undefined"!==t&&Object(c.jsx)(O.b,{className:"header__link",to:t?"/logout":"/login",children:t?"Log out":"Log In"})]})]})})},x=(n(65),n(66),n(2)),_=n(33);function w(e){var t=e.width,n=e.height,a=e.source;return Object(c.jsx)("iframe",{title:"top-film-title",width:t,height:n,src:"https://www.youtube.com/embed/".concat(a,"?autoplay=1&mute=1")})}n(67);var y=function(e){var t=e.film,n=t.id,a=t.name,r=t.description,i=t.source;return Object(c.jsxs)("section",{className:"main-film-section",children:[Object(c.jsxs)("div",{className:"main-film-section__video-info",children:[Object(c.jsx)("h3",{children:a}),Object(c.jsx)("h5",{children:r}),Object(c.jsx)(O.b,{to:"/view-mode/".concat(n),children:Object(c.jsx)("button",{children:"Watch"})})]}),Object(c.jsx)("div",{className:"main-film-section__video",children:Object(c.jsx)(w,{width:"500px",height:"250px",source:i})})]})};n(68);function k(e){var t=e.picture;return Object(c.jsxs)(O.b,{to:"/view-mode/".concat(t.id),className:"picture-card",style:{backgroundImage:'url("'.concat(t.photoSource,'")')},children:[Object(c.jsx)("h3",{className:"picture-card__name",children:t.name}),Object(c.jsx)("h6",{className:"picture-card__description",children:t.description})]})}n(69);function N(e){var t=e.categories;return Object(c.jsx)("section",{className:"categories-section",children:t.map((function(e){return Object(c.jsxs)("div",{className:"categories-section_section",children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("div",{className:"categories-section__cards",children:e.items.map((function(e){return Object(c.jsx)(k,{picture:e},e.name)}))})]},e.name)}))})}n(70);var I="https://my-json-server.typicode.com/Chizhevsky/my-fake-server-for-films",P=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={topFilm:null,categories:null},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,c,a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.a.get("".concat(I,"/top-film")),n=b.a.get("".concat(I,"/categories")),e.next=4,b.a.all([t,n]);case 4:c=e.sent,a=Object(_.a)(c,2),r=a[0].data,i=a[1].data,this.setState({topFilm:r,categories:i});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return Object(c.jsxs)("main",{className:"home-page-main",children:[this.state.topFilm&&Object(c.jsx)(y,{film:this.state.topFilm}),(null===(e=this.state.categories)||void 0===e?void 0:e.length)>0&&Object(c.jsx)(N,{categories:this.state.categories})]})}}]),n}(r.a.Component);var L=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"LogIn page"})})};var C=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Settings page"})})},S=(n(71),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={currentPicture:null},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,c,a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=null===(t=this.props.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.id)){e.next=8;break}return e.next=4,b.a.get("".concat(I,"/allPictures"));case 4:a=e.sent,r=a.data,(i=r.find((function(e){return e.id===c})))&&this.setState({currentPicture:i});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.currentPicture&&Object(c.jsxs)("main",{className:"view-mode",children:[Object(c.jsx)("button",{className:"view-mode__back-button",onClick:function(){return e.props.history.goBack()},children:"< Back"}),Object(c.jsx)("div",{className:"view-mode__video-player",children:Object(c.jsx)(w,{width:"1000px",height:"500px",source:this.state.currentPicture.source})}),Object(c.jsx)("h1",{children:this.state.currentPicture.name}),Object(c.jsx)("p",{children:this.state.currentPicture.description})]})}}]),n}(a.Component));var F=function(){return Object(c.jsxs)(x.c,{children:[Object(c.jsx)(x.a,{path:"/settings",component:C}),Object(c.jsx)(x.a,{path:"/login",component:L}),Object(c.jsx)(x.a,{path:"/view-mode/:id",component:S}),Object(c.jsx)(x.a,{path:"/",component:P})]})},A=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(h.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={auth:null},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props),e.next=3,b.a.get("".concat(I,"/auth"));case 3:t=e.sent,n=t.data,this.setState({auth:n});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return Object(c.jsxs)("div",{children:[Object(c.jsx)(g,{isLoggedIn:null===(e=this.state.auth)||void 0===e?void 0:e.isLoggedIn}),Object(c.jsx)(F,{})]})}}]),n}(r.a.Component);s.a.render(Object(c.jsx)(O.a,{basename:"/react-mentoring",children:Object(c.jsx)(A,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.6a5594f9.chunk.js.map